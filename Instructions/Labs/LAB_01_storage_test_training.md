---
lab:
  title: '演習 01: IT 部門のテストとトレーニング用のストレージを提供する'
  module: Guided Project - Azure Files and Azure Blobs
---

IT 部門は、さまざまなストレージ シナリオのプロトタイプを作成し、新しい担当者をトレーニングする必要があります。 バックアップするほど重要なコンテンツではないため、データが上書きまたは削除されても復元する必要はありません。 簡単に変更できるシンプルな構成が望まれます。

## アーキテクチャ ダイアグラム
![1 つのストレージ アカウントを示す図](../Media/task-1.png)

## スキルアップ タスク
- ストレージ アカウントを作成します。 
- セキュリティとネットワークの基本設定を構成します。 

## 演習の手順

## リソース グループとストレージ アカウントを作成する。

1. すべてのプロジェクト リソースを保持するリソース グループを作成してデプロイします。 [リソース グループ](https://learn.microsoft.com/azure/azure-resource-manager/management/manage-resource-groups-portal)に関する詳細を確認します。
    - Azure portal で、`Resource groups` を検索して選択します。
    - **[+ 作成]** を選択します。
    - リソース グループに**名前**を付けます。 たとえば、`storagerg` のようにします。
    - **リージョン**を選択します。 このリージョンは、プロジェクト全体で使用します。 
    - **[確認と作成]** を選択してリソース グループを検証します。
    - **[作成]** を選択してリソース グループをデプロイします。

1. テストとトレーニングをサポートするストレージ アカウントを作成してデプロイします。 [ストレージ アカウントの種類](https://learn.microsoft.com/azure/storage/common/storage-account-overview#types-of-storage-accounts)に関する詳細を確認します。
    - Azure portal で、`Storage accounts` を検索して選択します。 
    - **[+ 作成]** を選択します。
    - **[基本情報]** タブで、ご自分の**リソース グループ**を選択します。
    - **[ストレージ アカウント名]** を指定します。 ストレージ アカウント名は Azure 内で一意である必要があります。 
    - **[パフォーマンス]** を **[標準]** に設定します。 
    - **[確認]**、**[作成]** の順に選択します。 
    - ストレージ アカウントがデプロイされるまで待ってから、**リソースに移動**します。  

## ストレージ アカウントで簡単な設定を構成します。

1. このストレージ アカウント内のデータには、高可用性や持続性は必要ありません。 コストが最も低いストレージ ソリューションが望まれます。 [ストレージ アカウントの冗長性](https://learn.microsoft.com/azure/storage/common/storage-redundancy#locally-redundant-storage)に関する詳細を確認します。
    - ストレージ アカウントの **[データ管理]** セクションで、**[冗長性]** ブレードを選択します。
    - **[冗長性]** ドロップダウンで **[ローカル冗長ストレージ (LRS)]** を選択します。 
    - 変更を必ず**保存**してください。 
    - ページを更新すると、コンテンツがプライマリ位置にのみ存在することがわかります。 

1. ストレージ アカウントで、セキュリティで保護された接続からの要求のみを受け入れる必要があります。 [セキュリティで保護された接続からの安全な転送の要求](https://learn.microsoft.com/azure/storage/common/storage-require-secure-transfer)に関する詳細を確認します。
    - **[設定]** セクションで、 **[構成]** ブレードを選択します。
    - **[安全な転送が必須]** が **[有効]** になっていることを確認します。 

1. 開発者は、ストレージ アカウントで少なくとも TLS バージョン 1.2 を使用することを望んでいます。 [トランスポート層セキュリティ (TLS)](https://learn.microsoft.com//azure/storage/common/transport-layer-security-configure-minimum-version?tabs=portal) に関する詳細を確認します。
    - **[設定]** セクションで、 **[構成]** ブレードを選択します。
    - **[最小 TLS バージョン]** が **[バージョン 1.2]** に設定されていることを確認します。  


1. ストレージが再び必要になるまで、ストレージ アカウントへの要求を無効にします。 [共有キーの無効化](https://learn.microsoft.com/azure/storage/common/shared-key-authorization-prevent?tabs=portal#disable-shared-key-authorization)に関する詳細を確認します。
    - **[設定]** セクションで、 **[構成]** ブレードを選択します。
    - **[ストレージ アカウント キーのアクセスを許可する]** が **[無効]** に設定されていることを確認します。
    - 変更を必ず**保存**してください。 

1. ストレージ アカウントですべてのネットワークからのパブリック アクセスが許可されていることを確認します。  
    - **[セキュリティとネットワーク]** セクションで、**[ネットワーク]** ブレードを選択します。
    - **[パブリック ネットワーク アクセス]** が **[すべてのネットワークから有効]** に設定されていることを確認します。
    - 変更を必ず**保存**してください。 

>**注**: 追加の演習として、「[Azure Storage アカウントの作成](https://learn.microsoft.com/training/modules/create-azure-storage-account/)」モジュールを完了してください。 このモジュールには、ストレージ アカウントの作成を演習できるサンドボックスがあります。
